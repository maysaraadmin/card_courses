<div class="block-card-courses-container">
    <div class="block_card_courses">
        {{#parentcategory}}
        <div class="breadcrumb">
            <a href="{{url}}" class="breadcrumb-link">&laquo; {{name}}</a>
        </div>
        {{/parentcategory}}

        {{^parentcategory}}
            {{#currentcategory}}
            <div class="breadcrumb">
                <a href="{{config.wwwroot}}/blocks/card_courses/view.php?blockid={{blockid}}&categoryid=0" class="breadcrumb-link">&laquo; {{str.allcategories}}</a>
            </div>
            {{/currentcategory}}
        {{/parentcategory}}

        {{#currentcategory}}
        <h3 class="current-category">{{currentcategoryname}}</h3>
        {{/currentcategory}}

        {{#hascategories}}
        <div class="categories-container">
            <h4>{{str.subcategories}}</h4>
            <div class="category-grid">
                {{#categories}}
                <div class="category-card">
                    <a href="{{url}}" class="category-link">
                        <div class="category-image-container">
                            <img src="{{image_url}}" alt="{{name}}" class="category-image">
                        </div>
                        <div class="category-content">
                            <h4 class="category-title">{{name}}</h4>
                            {{#description}}
                            <div class="category-description">{{{description}}}</div>
                            {{/description}}
                            <div class="category-meta">
                                <span class="course-count">{{course_count}} {{str.courses}}</span>
                            </div>
                        </div>
                    </a>
                </div>
                {{/categories}}
            </div>
        </div>
        {{/hascategories}}

        {{#viewcoursesurl}}
        <div class="view-courses-link">
            <a href="{{viewcoursesurl}}" class="btn btn-primary">{{str.viewcourses}}</a>
        </div>
        {{/viewcoursesurl}}

        {{#showcourses}}
            {{#hascourses}}
            <div class="courses-container">
                <h4>{{str.coursesin}} {{currentcategoryname}}</h4>
                <div class="course-grid">
                    {{#courses}}
                    <div class="course-card">
                        <a href="{{url}}" class="course-link">
                            <div class="course-image-container">
                                <img src="{{image_url}}" alt="{{fullname}}" class="course-image">
                            </div>
                            <div class="course-content">
                                <h4 class="course-title">{{fullname}}</h4>
                                {{#summary}}
                                <div class="course-description">{{{summary}}}</div>
                                {{/summary}}
                            </div>
                        </a>
                    </div>
                    {{/courses}}
                </div>
            </div>
            {{/hascourses}}
            {{^hascourses}}
            <div class="alert alert-info">{{str.nocourses}}</div>
            {{/hascourses}}
        {{/showcourses}}

        {{^hascategories}}
            {{^showcourses}}
                {{#hascourses}}
                <div class="courses-container">
                    <h4>{{str.coursesin}} {{currentcategoryname}}</h4>
                    <div class="course-grid">
                        {{#courses}}
                        <div class="course-card">
                            <a href="{{url}}" class="course-link">
                                <div class="course-image-container">
                                    <img src="{{image_url}}" alt="{{fullname}}" class="course-image">
                                </div>
                                <div class="course-content">
                                    <h4 class="course-title">{{fullname}}</h4>
                                    {{#summary}}
                                    <div class="course-description">{{{summary}}}</div>
                                    {{/summary}}
                                </div>
                            </a>
                        </div>
                        {{/courses}}
                    </div>
                </div>
                {{/hascourses}}
                {{^hascourses}}
                <div class="alert alert-info">{{str.nocourses}}</div>
                {{/hascourses}}
            {{/showcourses}}
        {{/hascategories}}
    </div>
</div>